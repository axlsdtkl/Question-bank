可以用个优先队列来模拟，每次选最大的，由于剩下的每一次都会增加p，可以逆向考虑，只记录其它所有都增加的长度，把当前的减去p。
这样的复杂度为mlogm。
之后可以发生前后切的蚯蚓的a1,b1,a2,b2，a1一定始终大于a2,b1一定始终大于b2,这些都是单调序列，故找最大值可以直接在原序列，a序列，b序列中找头部的进行比较，加入元素直接在a,b序列的尾部加即可。
复杂度为o(m)。